{% extends 'base.html' %}
{% block title %}
    <title>新闻列表</title>
{% endblock %}
{% block container %}
    <!--主体-->
    <header class="wy-header">
        <div class="wy-header-icon-back"><span></span></div>
        <div class="wy-header-title">新闻列表</div>
    </header>
    <div class="weui-content">
        <div class="weui-cells wy-news-list">
            {% for item in pagedata.object_list %}
                <a class="weui-cell weui-cell_access" href="{% url 'system:news_detail' item.pk %}">
                    <div class="weui-cell__bd">
                        <p>{{ item.title }}</p>
                    </div>
                    <div class="weui-cell__ft"></div>
                </a>
            {% endfor %}
        </div>
        <div class="weui-footer">
            <p class="weui-footer__links">
                {% if pagedata.has_previous %}
                    <a class="weui-footer__link"
                       href="{% url 'system:news_list' %}?page={{ pagedata.previous_page_number }}">上一页</a>
                {% else %}
                    <a class="weui-footer__link" href="javascript:void(0);" onclick="window.alert('没有上一页了')">上一页</a>
                {% endif %}
                {% if pagedata.has_next %}
                    <a class="weui-footer__link"
                       href="{% url 'system:news_list' %}?page={{ pagedata.next_page_number }}">下一页</a>
                {% else %}
                    <a class="weui-footer__link" href="javascript:void(0);" onclick="window.alert('没有下一页了')">下一页</a>
                {% endif %}
            </p>
            <p class="weui-footer__text">当前第{{ pagedata.number }}页，总共{{ pagedata.paginator.num_pages }}页</p>
        </div>
        <div>

        </div>
    </div>
{% endblock %}

{% block footer %}
    <script type="text/javascript" src="/static/js/jquery.Spinner.js"></script>
{% endblock %}